<!-- fetch-demo.html -->
<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Fetch Demo</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 20px
        }

        .list {
            max-width: 700px
        }

        .spinner {
            display: none;
        }

        .error {
            color: red
        }
    </style>
</head>

<body>
    <h2>Fetch posts (JSONPlaceholder)</h2>
    <button id="loadBtn">Load Posts</button>
    <span class="spinner" id="spinner">Loadingâ€¦</span>
    <div id="error" class="error"></div>
    <ul id="posts" class="list"></ul>

    <script>
        const loadBtn = document.getElementById('loadBtn');
        const spinner = document.getElementById('spinner');
        const posts = document.getElementById('posts');
        const errorBox = document.getElementById('error');

        loadBtn.addEventListener('click', async () => {
            spinner.style.display = 'inline';
            errorBox.textContent = '';
            posts.innerHTML = '';
            try {
                const res = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=5');
                if (!res.ok) throw new Error('Network response not ok: ' + res.status);
                const data = await res.json();
                data.forEach(p => {
                    const li = document.createElement('li');
                    li.textContent = p.title;
                    posts.appendChild(li);
                });
            } catch (err) {
                errorBox.textContent = 'Error: ' + err.message;
            } finally {
                spinner.style.display = 'none';
            }
        });
    </script>
</body>

</html>